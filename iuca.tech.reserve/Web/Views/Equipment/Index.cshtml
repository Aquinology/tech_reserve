@model IList<EquipmentDTO>

@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager

<style>


    .icon-box {
        width: 50px;
        height: 50px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        color: white;
        font-size: 24px;
    }

</style>

<div class="container">
    @if (SignInManager.IsSignedIn(User))
    {

        <div class="row pt-4">
            <div class="col-12 text-end">
                <button class="btn btn-danger shadow-none my-lg-0 my-1" data-bs-toggle="modal" data-bs-target="#addEquipmentModal">
                    <i class="fa fa-plus" aria-hidden="true"></i>&nbsp; Add equipment
                </button>
            </div>
        </div>

        <partial name="_AddEquipmentModal.cshtml" />

        <div class="row pt-4">
            <div class="col-6">
                <h4>Your request</h4>
            </div>
        </div>

        <div class="card">
            <div class="card-body">

                <div class="row">
                    <div class="col-12">
                        Approved
                    </div>
                </div>

            </div>
        </div>

        <div class="row pt-4">
            <div class="col-6">
                <h4>Equipments</h4>
            </div>
        </div>

        <div class="row pt-4">
            <div class="col-12">

                <div class="row">
                    @if (Model != null && Model.Any())
                    {
                        @foreach (var equipment in Model)
                        {
                            <div class="d-flex align-items-center mb-3">

                                @if (equipment.Type == EquipmentType.Laptop)
                                {
                                    <div class="icon-box bg-primary me-3">
                                        <i class="fa fa-laptop"></i>
                                    </div>
                                }
                                else if (equipment.Type == EquipmentType.Mouse)
                                {
                                    <div class="icon-box bg-info me-3">
                                        <i class="fa fa-mouse-pointer"></i>
                                    </div>
                                }
                                else if (equipment.Type == EquipmentType.Charger)
                                {
                                    <div class="icon-box bg-danger me-3">
                                        <i class="fa fa-plug"></i>
                                    </div>
                                }
                                <div>
                                    <h6 class="mb-0">@equipment.Type.ToString() @equipment.EquipmentNumber</h6>
                                    <small class="text-muted">@equipment.SerialNumber</small>
                                    <small class="text-muted">@equipment.Description</small>
                                    <img src="@equipment.ImagePath" style="width: 100px" />
                                </div>
                            </div>

                        }
                    }
                    else
                    {
                        <span>Нет записей</span>
                    }
                </div>

            </div>
        </div>
    }
    else
    {
        <div class="row pt-4 text-center">
            <div class="col-12">
                <h3>Пожалуйста, войдите в свой аккаунт</h3>
            </div>
            <div class="col-12 pt-4">
                <form asp-controller="Account" asp-action="ExternalLogin" asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })" method="post">
                    <div>
                        <button type="submit" class="btn btn-primary shadow-none" name="provider" value="Google">
                            Login with Google
                        </button>
                    </div>
                </form>
            </div>
        </div>
    }
</div>

@section Scripts {

    <script src="~/js/equipments/add-equipment.js" asp-append-version="true"></script>

}